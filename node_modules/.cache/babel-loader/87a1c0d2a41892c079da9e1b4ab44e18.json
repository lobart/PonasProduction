{"ast":null,"code":"import _regeneratorRuntime from\"/home/archi/MyProjects/PonasProduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/archi/MyProjects/PonasProduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/home/archi/MyProjects/PonasProduction/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{tagsAPI}from\"../components/api/api\";var TOGGLE_IS_FETCHING='TOGGLE_IS_FETCHING';var SETTAGS='SETTAGS';var SETNAME='SETNAME';var initialState={tags:[],tagsOnPage:4,isFetching:false,newName:null};var tagsReducer=function tagsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case TOGGLE_IS_FETCHING:return _objectSpread(_objectSpread({},state),{},{isFetching:action.isFetching});case SETTAGS:return _objectSpread(_objectSpread({},state),{},{tags:action.tags});case SETNAME:return _objectSpread(_objectSpread({},state),{},{newName:action.name});default:return state;}};export var setToggleIsFetching=function setToggleIsFetching(isFetching){return{type:TOGGLE_IS_FETCHING,isFetching:isFetching};};export var setTags=function setTags(tags){return{type:SETTAGS,tags:tags};};export var setName=function setName(name){return{type:SETNAME,name:name};};export var getTags=function getTags(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(setToggleIsFetching(true));_context.next=3;return tagsAPI.getTags();case 3:data=_context.sent;dispatch(setToggleIsFetching(false));dispatch(setTags(data));case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var postTag=function postTag(name){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch(setToggleIsFetching(true));_context2.next=3;return tagsAPI.postTag(name);case 3:response=_context2.sent;console.log(response);_context2.next=7;return tagsAPI.getTags();case 7:data=_context2.sent;dispatch(setToggleIsFetching(false));dispatch(setTags(data));case 10:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var upTag=function upTag(name){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response,data;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch(setToggleIsFetching(true));_context3.next=3;return tagsAPI.upTags(name);case 3:response=_context3.sent;console.log(response);_context3.next=7;return tagsAPI.getTags();case 7:data=_context3.sent;dispatch(setToggleIsFetching(false));dispatch(setTags(data));case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var downTag=function downTag(name){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var response,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch(setToggleIsFetching(true));_context4.next=3;return tagsAPI.downTags(name);case 3:response=_context4.sent;console.log(response);_context4.next=7;return tagsAPI.getTags();case 7:data=_context4.sent;dispatch(setToggleIsFetching(false));dispatch(setTags(data));case 10:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export default tagsReducer;","map":{"version":3,"sources":["/home/archi/MyProjects/PonasProduction/src/reducers/tags-reducer.js"],"names":["tagsAPI","TOGGLE_IS_FETCHING","SETTAGS","SETNAME","initialState","tags","tagsOnPage","isFetching","newName","tagsReducer","state","action","type","name","setToggleIsFetching","setTags","setName","getTags","dispatch","data","postTag","response","console","log","upTag","upTags","downTag","downTags"],"mappings":"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","sourcesContent":["import {tagsAPI} from \"../components/api/api\";\n\nconst TOGGLE_IS_FETCHING='TOGGLE_IS_FETCHING';\nconst SETTAGS='SETTAGS';\nconst SETNAME='SETNAME';\n\nlet initialState = {\n    tags: [],\n    tagsOnPage: 4,\n    isFetching: false,\n    newName: null\n}\n\nconst tagsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case TOGGLE_IS_FETCHING:\n            return {...state, isFetching: action.isFetching};\n        case SETTAGS:\n            return {...state, tags: action.tags};\n        case SETNAME:\n            return {...state, newName: action.name};\n        default:\n            return state;\n    }\n}\n\n\n\nexport let setToggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\nexport let setTags = (tags) => ({type: SETTAGS, tags});\nexport let setName = (name) => ({type: SETNAME, name});\nexport let getTags = () => { return async (dispatch) => {\n    dispatch(setToggleIsFetching(true));\n    let data = await tagsAPI.getTags();\n    dispatch(setToggleIsFetching(false));\n    dispatch(setTags(data));\n}}\nexport let postTag = (name) => { return async (dispatch) => {\n    dispatch(setToggleIsFetching(true));\n    let response = await tagsAPI.postTag(name);\n    console.log(response);\n    let data = await tagsAPI.getTags();\n    dispatch(setToggleIsFetching(false));\n    dispatch(setTags(data));\n}}\n\nexport let upTag = (name) => { return async (dispatch) => {\n    dispatch(setToggleIsFetching(true));\n    let response = await tagsAPI.upTags(name);\n    console.log(response);\n    let data = await tagsAPI.getTags();\n    dispatch(setToggleIsFetching(false));\n    dispatch(setTags(data));\n}}\n\nexport let downTag = (name) => { return async (dispatch) => {\n    dispatch(setToggleIsFetching(true));\n    let response = await tagsAPI.downTags(name);\n    console.log(response);\n    let data = await tagsAPI.getTags();\n    dispatch(setToggleIsFetching(false));\n    dispatch(setTags(data));\n}}\n\nexport default  tagsReducer;"]},"metadata":{},"sourceType":"module"}